<!DOCTYPE html>
<html lang="th" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Universal Role Navigator + Resonance Control Plane</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class', theme: { extend: { colors: { bg: '#0b1020', panel: '#121a31', panelSoft: '#1a2544', accent: '#f59e0b', good: '#34d399' } } } };
  </script>
</head>
<body class="bg-bg text-slate-100 min-h-screen">
  <div class="max-w-7xl mx-auto px-4 py-5 space-y-4">
    <header class="rounded-xl bg-panel border border-slate-700 p-4">
      <h1 class="text-2xl font-bold">Universal Role Navigator (Adaptive Registry)</h1>
      <p class="text-sm text-slate-300 mt-1">Role Registry + LLM Role Generator + Cross-Company Tournament + Org Chart Export</p>
    </header>

    <main class="grid grid-cols-1 xl:grid-cols-12 gap-4">
      <section class="xl:col-span-3 bg-panel rounded-xl border border-slate-700 p-4">
        <div class="flex items-center justify-between mb-3">
          <h2 class="font-semibold">Canonical Role Registry</h2>
          <span id="roleCount" class="text-xs px-2 py-1 rounded bg-slate-800"></span>
        </div>
        <div class="text-xs text-slate-400">Meta-Schema: Focus / KPI / Horizon / Capability</div>
        <div id="roleGroups" class="space-y-3"></div>
      </section>

      <section class="xl:col-span-5 bg-panel rounded-xl border border-slate-700 p-4 space-y-3">
        <h2 class="font-semibold">Role Intelligence Card</h2>
        <div id="roleCard" class="rounded-xl bg-panelSoft border border-slate-600 p-4"></div>

        <div class="rounded-xl bg-slate-900 border border-slate-700 p-3 space-y-2 text-sm">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Resonance Fingerprint</h3>
            <span>Score: <b id="resonanceScore">0.91</b></span>
          </div>
          <div class="grid grid-cols-2 gap-2">
            <label class="text-xs text-slate-400">Speed <input id="responseSpeed" type="range" min="0.2" max="1" step="0.1" value="0.6" class="w-full" /></label>
            <label class="text-xs text-slate-400">Depth
              <select id="detailDepth" class="w-full mt-1 bg-slate-800 border border-slate-600 rounded px-2 py-1 text-sm"><option value="summary">summary</option><option value="deep" selected>deep</option></select>
            </label>
            <label class="text-xs text-slate-400">Format
              <select id="responseFormat" class="w-full mt-1 bg-slate-800 border border-slate-600 rounded px-2 py-1 text-sm"><option value="numbers" selected>numbers</option><option value="story">story</option></select>
            </label>
            <label class="text-xs text-slate-400">Context Mode
              <select id="contextMode" class="w-full mt-1 bg-slate-800 border border-slate-600 rounded px-2 py-1 text-sm"><option value="strategic" selected>strategic</option><option value="operational">operational</option></select>
            </label>
          </div>
          <label class="text-xs text-slate-400">C-Level Mode
            <select id="cLevelMode" class="w-full mt-1 bg-slate-800 border border-slate-600 rounded px-2 py-1 text-sm"><option value="visionary" selected>Visionary (3Y)</option><option value="crisis">Crisis (Daily)</option></select>
          </label>
          <p class="text-xs text-cyan-300">Freeze Trail: <b id="freezeCount">0</b> snapshots</p>
        </div>

        <div class="rounded-xl border border-cyan-500/30 bg-cyan-500/10 p-3 text-sm space-y-2">
          <h3 class="font-semibold">LLM Role Generator</h3>
          <div class="grid grid-cols-3 gap-2">
            <input id="generatorIndustry" class="col-span-2 bg-slate-900 border border-slate-600 rounded px-2 py-2 text-sm" value="Energy" />
            <input id="generatorCount" type="number" min="4" max="24" value="8" class="bg-slate-900 border border-slate-600 rounded px-2 py-2 text-sm" />
          </div>
          <div class="flex flex-wrap gap-2">
            <button id="generateRoles" class="px-3 py-2 rounded bg-accent text-slate-900 font-semibold text-sm">Generate Roles</button>
            <button id="exportOrgPng" class="px-3 py-2 rounded bg-slate-700 text-sm">Export Org PNG</button>
            <button id="exportOrgSvg" class="px-3 py-2 rounded bg-slate-700 text-sm">Export Org SVG</button>
          </div>
          <div id="generatorStatus" class="text-xs text-slate-300">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ generate</div>
        </div>
      </section>

      <section class="xl:col-span-4 bg-panel rounded-xl border border-slate-700 p-4 flex flex-col min-h-[620px]">
        <div class="flex items-center justify-between mb-3 gap-2">
          <h2 class="font-semibold">Unified LLM Chat</h2>
          <div class="flex bg-slate-900 rounded-lg p-1 text-xs">
            <button id="modeGlobal" class="px-3 py-1 rounded bg-accent text-slate-900 font-semibold">Global</button>
            <button id="modeRole" class="px-3 py-1 rounded text-slate-300">Per-role</button>
          </div>
        </div>

        <div class="mb-3">
          <label class="text-xs text-slate-400">‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤</label>
          <select id="chatRoleSelect" class="w-full mt-1 bg-slate-900 border border-slate-600 rounded px-2 py-2 text-sm"></select>
        </div>

        <div id="chatWindow" class="flex-1 overflow-y-auto rounded-xl bg-slate-900 border border-slate-700 p-3 space-y-3"></div>
        <div class="mt-3 flex gap-2">
          <input id="chatInput" class="flex-1 bg-slate-900 border border-slate-600 rounded px-3 py-2 text-sm" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ú‡∏ô‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠ supply shock ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏° Energy" />
          <button id="sendBtn" class="px-4 py-2 rounded bg-good text-slate-900 font-semibold">‡∏™‡πà‡∏á</button>
        </div>
      </section>
    </main>

    <section class="bg-panel rounded-xl border border-slate-700 p-4 space-y-3">
      <div class="flex items-center justify-between">
        <h2 class="font-semibold">Cross-Industry Crisis Tournament</h2>
        <span class="text-xs px-2 py-1 rounded bg-slate-800">single-company + cross-company</span>
      </div>
      <div class="flex flex-wrap gap-2 items-end">
        <label class="text-xs text-slate-400">Scenario
          <select id="tournamentScenario" class="mt-1 bg-slate-900 border border-slate-600 rounded px-2 py-2 text-sm"></select>
        </label>
        <button id="runTournament" class="px-4 py-2 rounded bg-accent text-slate-900 font-semibold">Run Industry Tournament</button>
      </div>
      <pre id="tournamentOutput" class="rounded-xl bg-slate-900 border border-slate-700 p-3 text-sm whitespace-pre-wrap min-h-[120px]"></pre>

      <div class="grid md:grid-cols-2 gap-3">
        <div>
          <label class="text-xs text-slate-400">Company Types (Multi-select)</label>
          <select id="companyTypeSelect" multiple class="w-full mt-1 h-28 bg-slate-900 border border-slate-600 rounded px-2 py-2 text-sm"></select>
        </div>
        <div class="flex items-end">
          <button id="runCrossTournament" class="px-4 py-2 rounded bg-good text-slate-900 font-semibold">Run Cross-Company Tournament</button>
        </div>
      </div>
      <pre id="crossTournamentOutput" class="rounded-xl bg-slate-900 border border-slate-700 p-3 text-sm whitespace-pre-wrap min-h-[140px]"></pre>
    </section>

    <section class="bg-panel rounded-xl border border-slate-700 p-4 space-y-3">
      <div class="flex items-center justify-between">
        <h2 class="font-semibold">Org Chart Preview</h2>
        <span class="text-xs px-2 py-1 rounded bg-slate-800">exportable SVG/PNG</span>
      </div>
      <div id="orgChartContainer" class="rounded-xl bg-slate-900 border border-slate-700 p-3 min-h-[180px]"></div>
    </section>

    <section class="bg-panel rounded-xl border border-slate-700 p-5 space-y-5">
      <div class="flex items-center justify-between">
        <div>
          <h2 class="font-semibold text-lg flex items-center gap-2">
            <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-amber-500/20 border border-amber-400/60">‚öôÔ∏è</span>
            ASI Settings Center
          </h2>
          <p class="text-sm text-slate-400 mt-1">‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ, ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£</p>
        </div>
        <span class="text-xs px-2 py-1 rounded bg-slate-800">Settings Prototype</span>
      </div>

      <div class="grid md:grid-cols-2 xl:grid-cols-3 gap-3">
        <article class="rounded-xl bg-slate-900 border border-slate-700 p-4">
          <h3 class="font-semibold flex items-center gap-2"><span>üë§</span> ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</h3>
          <ul class="text-sm text-slate-300 mt-2 space-y-2">
            <li>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ä‡∏∑‡πà‡∏≠, ‡∏≠‡∏µ‡πÄ‡∏°‡∏• ‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</li>
            <li>‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•</li>
            <li>‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°‡∏´‡∏ô‡πâ‡∏≤</li>
          </ul>
        </article>

        <article class="rounded-xl bg-slate-900 border border-slate-700 p-4">
          <h3 class="font-semibold flex items-center gap-2"><span>üè¢</span> ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</h3>
          <ul class="text-sm text-slate-300 mt-2 space-y-2">
            <li>‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ú‡∏™‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Integrations)</li>
            <li>‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•, ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏á‡∏¥‡∏ô</li>
            <li>‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AI Workspace</li>
          </ul>
        </article>

        <article class="rounded-xl bg-slate-900 border border-slate-700 p-4">
          <h3 class="font-semibold flex items-center gap-2"><span>üé®</span> ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞</h3>
          <ul class="text-sm text-slate-300 mt-2 space-y-2">
            <li>‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á Theme ‡∏ó‡∏µ‡πà ASI ‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</li>
            <li>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏ß‡πà‡∏≤‡∏á/‡∏°‡∏∑‡∏î ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡∏Ç‡∏≠‡∏á UI</li>
            <li>‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ñ‡∏ö‡πÅ‡∏ó‡πá‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</li>
          </ul>
        </article>

        <article class="rounded-xl bg-slate-900 border border-slate-700 p-4">
          <h3 class="font-semibold flex items-center gap-2"><span>üåê</span> ‡∏†‡∏≤‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤</h3>
          <ul class="text-sm text-slate-300 mt-2 space-y-2">
            <li>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ü‡∏ã‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏©‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏Å‡∏î‡∏Ñ‡∏≥</li>
            <li>‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏°‡∏≠ (LTR / RTL)</li>
            <li>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå, ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡∏ï‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</li>
          </ul>
        </article>

        <article class="rounded-xl bg-slate-900 border border-slate-700 p-4">
          <h3 class="font-semibold flex items-center gap-2"><span>üñ•Ô∏è</span> ‡πÅ‡∏≠‡∏õ‡∏ö‡∏ô‡πÄ‡∏î‡∏™‡∏Å‡πå‡∏ó‡πá‡∏≠‡∏õ</h3>
          <ul class="text-sm text-slate-300 mt-2 space-y-2">
            <li>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ó‡πá‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà</li>
            <li>‡πÉ‡∏ä‡πâ Command Search ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î (Shift+Ctrl+K)</li>
            <li>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î ASI AI (Shift+Ctrl+J) ‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</li>
          </ul>
        </article>

        <article class="rounded-xl bg-slate-900 border border-slate-700 p-4">
          <h3 class="font-semibold flex items-center gap-2"><span>üîê</span> ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</h3>
          <ul class="text-sm text-slate-300 mt-2 space-y-2">
            <li>‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</li>
            <li>‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô/‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ï‡∏≤‡∏°‡πÄ‡∏Ç‡∏ï‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</li>
            <li>‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</li>
          </ul>
        </article>
      </div>

      <div class="rounded-xl bg-amber-500/10 border border-amber-400/40 p-4">
        <h3 class="font-semibold text-amber-200">‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)</h3>
        <ul class="text-sm mt-2 text-amber-100/90 space-y-2 list-disc list-inside">
          <li><b>AI Safety Guard:</b> ‡∏ú‡∏π‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡∏±‡∏ö‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏¢‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á</li>
          <li><b>Workspace Presets:</b> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡∏° (Executive, Ops, Engineering) ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏•‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</li>
        </ul>
      </div>
    </section>
  </div>

  <script type="module" src="assets/js/role-studio/main.js"></script>
</body>
</html>
